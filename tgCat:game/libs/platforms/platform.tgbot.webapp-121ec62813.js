!function(){"use strict";(class e{});(class t{[class e{}](){}});window.mbplatform||(window.mbplatform=new class extends class extends class{loginDataKey(){return"CAT_LOGINDATA_"+this.channelId}init(e,t,n){this.channelId=e,this.blockchainId=t,this.botName=n}reload(){}login(e){return Promise.resolve(1)}loginFail(){}loginSucc(e){}loginByLocal(e){}loadSubPackage(e){}clipboard(e){}openLink(e){}openTelegramLink(e){}closeApp(){}disableClosingConfirmation(){}openInvoice(e){return Promise.reject("not implement")}}{reload(){window.location.reload()}loadSubPackage(e){let t=document.createElement("script");t.src=e,document.body.appendChild(t)}clipboard(e){e&&this.writeText(e).then(()=>{console.log("write text success")}).catch(()=>{this.execCopy(e).then(()=>{console.log("exec copy success")}).catch(()=>{console.log("exec copy faile")})})}openLink(e){Laya.Browser.window.open(e)}openTelegramLink(e){Laya.Browser.window.open(e)}writeText(n){return new Promise((e,t)=>{navigator&&navigator.clipboard?navigator.clipboard.writeText(n).then(()=>{e()}).catch(()=>{console.log("writeText error"),t()}):t()})}execCopy(i){return new Promise((e,t)=>{let n=document.createElement("textarea");n.value=i,n.style.position="absolute",n.style.opacity="0",n.style.left="-999999px",n.style.top="-999999px",document.body.appendChild(n),n.focus(),n.select();var o=document.execCommand("copy");n.remove(),(o?e:t)()})}adaptPcSide(){if(Laya.Browser.onPC){let e=document.getElementById("mmobayContainer");e&&(this.sideUrl||(this.sideUrl="ps_mmobay.jpg"),e.style.cssText=`background-color: black;background-image: url(${this.sideUrl});background-repeat:no-repeat;background-position: center;position: absolute;width:100%;height:100%;background-size:cover`,Laya.stage.on("resize",this,()=>{let e=document.getElementById("mmobayContainer");var t=e.clientWidth,n=e.clientHeight;e.style.backgroundSize=t/n<=2?"cover":"contain"}))}}checkLanguage(){let t="en";if(window.navigator&&window.navigator.language){let e=window.navigator.language.toLowerCase();var n=e.split("-");t=n[0]}n={en:1,zh:2,ja:3,vi:4,ko:5,fr:6,pt:7,tr:8,ru:9,es:10,th:11,id:12,uk:13}[t]||1;Laya.LocalStorage.setJSON("CAT_lang",n)}}{init(e,t,n){super.init(e,t,n),this.telegram=window.Telegram,this.telegram.WebApp.disableVerticalSwipes(),this.telegram.WebApp.SettingsButton.onClick(()=>{this.telegram.WebApp.openLink("https://catizen.ai/privacy")}),this.telegram.WebApp.SettingsButton.show(),this.adaptPcSide(),this.checkLanguage()}login(e){let n=this.getLoginData();return new Promise((e,t)=>e({success:!0,token:n.token||"",initdata:n.initdata||"",botname:n.botname||"",inviter:n.inviter||0}))}openLink(e){Laya.Browser.onAndroid?Laya.Browser.window.open(e):this.telegram.WebApp.openLink(e)}openTelegramLink(e){this.telegram.WebApp.openTelegramLink(e)}closeApp(){this.telegram.WebApp.close()}disableClosingConfirmation(){this.telegram.WebApp.disableClosingConfirmation()}openInvoice(n){return new Promise((t,e)=>{this.telegram.WebApp.openInvoice(n,e=>{console.log("payment status==>"+e),"paid"==e&&t(!0)})})}getLoginData(){var t=window.GameUrlParas||{},n=t.botname||"",o=(window.Telegram||{}).WebApp.initData,i=t.inviter||window.inviter||0;if(t.token&&"null"!=t.token&&""!=t.token){let e={};e.initdata=o,e.botname=n,e.token=t.token,e.inviter=i;t={token:t.token};return Laya.LocalStorage.setJSON(this.loginDataKey(),t),e}if(o){let e={};return e.initdata=o,e.botname=n,e.inviter=i,e}{t=Laya.LocalStorage.getJSON(this.loginDataKey())||{};let e={};return e.botname=n,e.token=t.token||"",e.inviter=i,e}}})}();